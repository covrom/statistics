package test

import (
	"testing"

	"github.com/ready-steady/support/assert"
)

func TestKolmogorovSmirnov(t *testing.T) {
	data1 := []float64{
		+1.8368909586194213e-01, -4.7615301661907383e-01,
		+8.6202161155692203e-01, -1.3616944708707543e+00,
		+4.5502955644433435e-01, -8.4870937993365902e-01,
		-3.3488693896404770e-01, +5.5278334594455014e-01,
		+1.0390906535049560e+00, -1.1176386832652081e+00,
		+1.2606587091208963e+00, +6.6014314104697769e-01,
		-6.7865553542687335e-02, -1.9522119789875436e-01,
		-2.1760635014319193e-01, -3.0310762135174091e-01,
		+2.3045624425105282e-02, +5.1290355848774699e-02,
		+8.2606279021159545e-01, +1.5269766867333727e+00,
	}

	data2 := []float64{
		+4.6691443568470004e-01, -2.0971333838873671e-01,
		+6.2519035708762571e-01, +1.8322726300143696e-01,
		-1.0297675435666211e+00, +9.4922183113102254e-01,
		+3.0706191914670344e-01, +1.3517494209945566e-01,
		+5.1524633552484855e-01, +2.6140632405538267e-01,
		-9.4148577095543373e-01, -1.6233767280382774e-01,
		-1.4605463433152618e-01, -5.3201137680882071e-01,
		+1.6821035946631788e+00, -8.7572934616001730e-01,
		-4.8381505011012110e-01, -7.1200454902742250e-01,
		-1.1742123314568162e+00, -1.9223951753927476e-01,
	}

	result, p := KolmogorovSmirnov(data1, data2, 0.05)

	assert.Equal(result, false, t)
	assert.AlmostEqual(p, 7.7095294467658659e-01, t)
}
